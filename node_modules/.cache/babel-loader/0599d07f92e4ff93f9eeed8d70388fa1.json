{"ast":null,"code":"var _jsxFileName = \"/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/src/components/Places/PlacesEdit.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { SimpleForm, SelectInput, ArrayInput, Edit, SimpleFormIterator, TextInput, useRecordContext } from \"react-admin\";\nimport { useSelector } from \"react-redux\";\nimport { URI } from \"../../URLS\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PlacesEdit = props => {\n  _s();\n\n  const [printerId, setPrinterId] = useState([]);\n  const [employeeId, setEmployee] = useState([]);\n  const record = useRecordContext();\n  console.log(record);\n  const {\n    region\n  } = useSelector(state => state.region);\n  useEffect(() => {\n    const link = document.URL.split(\"-\")[0];\n    const id = link.substr(link.length - 2);\n    console.log(id);\n    axios.get(`${URI}/getPrinters?employeeId=reload&regionId=${region}`).then(data => {\n      console.log(data);\n      const printer = data.data.map(item => {\n        return {\n          id: item.printerId,\n          name: item.printerId\n        };\n      });\n      setPrinterId(printer);\n    });\n  }, [setPrinterId]);\n  useEffect(() => {\n    axios.get(`${URI}/getEmployees?employeeId=reload&regionId=${region}`).then(data => {\n      console.log(data);\n      const employee = data.data.map(item => {\n        return {\n          id: item.email,\n          name: item.email\n        };\n      });\n      setEmployee(employee);\n    });\n  }, [setEmployee]);\n  console.log(\"props\", props);\n  return /*#__PURE__*/_jsxDEV(Edit, {\n    title: \"Create a place\" //   resource=\"linkEmployeeAndPlace\"\n    ,\n    ...props,\n    children: /*#__PURE__*/_jsxDEV(SimpleForm, {\n      children: [/*#__PURE__*/_jsxDEV(ArrayInput, {\n        source: \"newList\",\n        label: \"Linled printer\",\n        children: /*#__PURE__*/_jsxDEV(SimpleFormIterator, {\n          children: /*#__PURE__*/_jsxDEV(SelectInput, {\n            source: \"item\",\n            choices: printerId,\n            label: \"PrinterId\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ArrayInput, {\n        source: \"employee\",\n        label: \"Linked employee\",\n        children: /*#__PURE__*/_jsxDEV(SimpleFormIterator, {\n          children: /*#__PURE__*/_jsxDEV(SelectInput, {\n            source: \"item\",\n            choices: employeeId,\n            label: \"EmployeeId\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PlacesEdit, \"5zK8ZyETjpwh/zU3TRtaRMs/5bs=\", false, function () {\n  return [useRecordContext, useSelector];\n});\n\n_c = PlacesEdit;\nexport default PlacesEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlacesEdit\");","map":{"version":3,"names":["axios","React","useEffect","useState","SimpleForm","SelectInput","ArrayInput","Edit","SimpleFormIterator","TextInput","useRecordContext","useSelector","URI","PlacesEdit","props","printerId","setPrinterId","employeeId","setEmployee","record","console","log","region","state","link","document","URL","split","id","substr","length","get","then","data","printer","map","item","name","employee","email"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/src/components/Places/PlacesEdit.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  SimpleForm,\n  SelectInput,\n  ArrayInput,\n  Edit,\n  SimpleFormIterator,\n  TextInput,\n  useRecordContext,\n} from \"react-admin\";\nimport { useSelector } from \"react-redux\";\nimport { URI } from \"../../URLS\";\n\nconst PlacesEdit = (props) => {\n  const [printerId, setPrinterId] = useState([]);\n  const [employeeId, setEmployee] = useState([]);\n  const record = useRecordContext();\n  console.log(record);\n  const { region } = useSelector((state) => state.region);\n\n  useEffect(() => {\n    const link = document.URL.split(\"-\")[0];\n    const id = link.substr(link.length - 2);\n    console.log(id);\n\n    axios\n      .get(`${URI}/getPrinters?employeeId=reload&regionId=${region}`)\n      .then((data) => {\n        console.log(data);\n        const printer = data.data.map((item) => {\n          return { id: item.printerId, name: item.printerId };\n        });\n        setPrinterId(printer);\n      });\n  }, [setPrinterId]);\n  useEffect(() => {\n    axios\n      .get(`${URI}/getEmployees?employeeId=reload&regionId=${region}`)\n      .then((data) => {\n        console.log(data);\n        const employee = data.data.map((item) => {\n          return { id: item.email, name: item.email };\n        });\n        setEmployee(employee);\n      });\n  }, [setEmployee]);\n  console.log(\"props\", props);\n\n  return (\n    <Edit\n      title=\"Create a place\"\n      //   resource=\"linkEmployeeAndPlace\"\n      {...props}\n\n      //   resource=\"addEmployee\"\n      //   redirect=\"/getEmployees\"\n    >\n      <SimpleForm>\n        <ArrayInput source=\"newList\" label=\"Linled printer\">\n          <SimpleFormIterator>\n            <SelectInput source=\"item\" choices={printerId} label=\"PrinterId\" />\n          </SimpleFormIterator>\n        </ArrayInput>\n        <ArrayInput source=\"employee\" label=\"Linked employee\">\n          <SimpleFormIterator>\n            <SelectInput\n              source=\"item\"\n              choices={employeeId}\n              label=\"EmployeeId\"\n            />\n          </SimpleFormIterator>\n        </ArrayInput>\n      </SimpleForm>\n    </Edit>\n  );\n};\n\nexport default PlacesEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}