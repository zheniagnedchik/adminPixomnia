{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useState, useCallback } from 'react';\nimport { useDelete } from '../../dataProvider';\nimport { useUnselect } from '../../controller';\nimport { useRedirect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare a set of callbacks for a delete button guarded by confirmation dialog\n *\n * @example\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const {\n *         open,\n *         isLoading,\n *         handleDialogOpen,\n *         handleDialogClose,\n *         handleDelete,\n *     } = useDeleteWithConfirmController({\n *         resource,\n *         record,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Fragment>\n *             <Button\n *                 onClick={handleDialogOpen}\n *                 label=\"ra.action.delete\"\n *                 {...rest}\n *             >\n *                 {icon}\n *             </Button>\n *             <Confirm\n *                 isOpen={open}\n *                 loading={isLoading}\n *                 title=\"ra.message.delete_title\"\n *                 content=\"ra.message.delete_content\"\n *                 translateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 onConfirm={handleDelete}\n *                 onClose={handleDialogClose}\n *             />\n *         </Fragment>\n *     );\n * };\n */\n\nvar useDeleteWithConfirmController = function (props) {\n  var record = props.record,\n      redirectTo = props.redirect,\n      mutationMode = props.mutationMode,\n      onClick = props.onClick,\n      mutationOptions = props.mutationOptions;\n  var resource = useResourceContext(props);\n\n  var _a = useState(false),\n      open = _a[0],\n      setOpen = _a[1];\n\n  var notify = useNotify();\n  var unselect = useUnselect(resource);\n  var redirect = useRedirect();\n\n  var _b = useDelete(),\n      deleteOne = _b[0],\n      isLoading = _b[1].isLoading;\n\n  var handleDialogOpen = function (e) {\n    setOpen(true);\n    e.stopPropagation();\n  };\n\n  var handleDialogClose = function (e) {\n    setOpen(false);\n    e.stopPropagation();\n  };\n\n  var handleDelete = useCallback(function (event) {\n    event.stopPropagation();\n    deleteOne(resource, {\n      id: record.id,\n      previousData: record\n    }, __assign({\n      onSuccess: function () {\n        setOpen(false);\n        notify('ra.notification.deleted', {\n          type: 'info',\n          messageArgs: {\n            smart_count: 1\n          },\n          undoable: mutationMode === 'undoable'\n        });\n        unselect([record.id]);\n        redirect(redirectTo, resource);\n      },\n      onError: function (error) {\n        setOpen(false);\n        notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', {\n          type: 'warning',\n          messageArgs: {\n            _: typeof error === 'string' ? error : error && error.message ? error.message : undefined\n          }\n        });\n      },\n      mutationMode: mutationMode\n    }, mutationOptions));\n\n    if (typeof onClick === 'function') {\n      onClick(event);\n    }\n  }, [deleteOne, mutationMode, mutationOptions, notify, onClick, record, redirect, redirectTo, resource, unselect]);\n  return {\n    open: open,\n    isLoading: isLoading,\n    handleDialogOpen: handleDialogOpen,\n    handleDialogClose: handleDialogClose,\n    handleDelete: handleDelete\n  };\n};\n\nexport default useDeleteWithConfirmController;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","useState","useCallback","useDelete","useUnselect","useRedirect","useNotify","useResourceContext","useDeleteWithConfirmController","props","record","redirectTo","redirect","mutationMode","onClick","mutationOptions","resource","_a","open","setOpen","notify","unselect","_b","deleteOne","isLoading","handleDialogOpen","e","stopPropagation","handleDialogClose","handleDelete","event","id","previousData","onSuccess","type","messageArgs","smart_count","undoable","onError","error","message","_","undefined"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/node_modules/ra-core/dist/esm/controller/button/useDeleteWithConfirmController.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useState, useCallback, } from 'react';\nimport { useDelete } from '../../dataProvider';\nimport { useUnselect } from '../../controller';\nimport { useRedirect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare a set of callbacks for a delete button guarded by confirmation dialog\n *\n * @example\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const {\n *         open,\n *         isLoading,\n *         handleDialogOpen,\n *         handleDialogClose,\n *         handleDelete,\n *     } = useDeleteWithConfirmController({\n *         resource,\n *         record,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Fragment>\n *             <Button\n *                 onClick={handleDialogOpen}\n *                 label=\"ra.action.delete\"\n *                 {...rest}\n *             >\n *                 {icon}\n *             </Button>\n *             <Confirm\n *                 isOpen={open}\n *                 loading={isLoading}\n *                 title=\"ra.message.delete_title\"\n *                 content=\"ra.message.delete_content\"\n *                 translateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 onConfirm={handleDelete}\n *                 onClose={handleDialogClose}\n *             />\n *         </Fragment>\n *     );\n * };\n */\nvar useDeleteWithConfirmController = function (props) {\n    var record = props.record, redirectTo = props.redirect, mutationMode = props.mutationMode, onClick = props.onClick, mutationOptions = props.mutationOptions;\n    var resource = useResourceContext(props);\n    var _a = useState(false), open = _a[0], setOpen = _a[1];\n    var notify = useNotify();\n    var unselect = useUnselect(resource);\n    var redirect = useRedirect();\n    var _b = useDelete(), deleteOne = _b[0], isLoading = _b[1].isLoading;\n    var handleDialogOpen = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function (e) {\n        setOpen(false);\n        e.stopPropagation();\n    };\n    var handleDelete = useCallback(function (event) {\n        event.stopPropagation();\n        deleteOne(resource, { id: record.id, previousData: record }, __assign({ onSuccess: function () {\n                setOpen(false);\n                notify('ra.notification.deleted', {\n                    type: 'info',\n                    messageArgs: { smart_count: 1 },\n                    undoable: mutationMode === 'undoable',\n                });\n                unselect([record.id]);\n                redirect(redirectTo, resource);\n            }, onError: function (error) {\n                setOpen(false);\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message || 'ra.notification.http_error', {\n                    type: 'warning',\n                    messageArgs: {\n                        _: typeof error === 'string'\n                            ? error\n                            : error && error.message\n                                ? error.message\n                                : undefined,\n                    },\n                });\n            }, mutationMode: mutationMode }, mutationOptions));\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [\n        deleteOne,\n        mutationMode,\n        mutationOptions,\n        notify,\n        onClick,\n        record,\n        redirect,\n        redirectTo,\n        resource,\n        unselect,\n    ]);\n    return {\n        open: open,\n        isLoading: isLoading,\n        handleDialogOpen: handleDialogOpen,\n        handleDialogClose: handleDialogClose,\n        handleDelete: handleDelete,\n    };\n};\nexport default useDeleteWithConfirmController;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}