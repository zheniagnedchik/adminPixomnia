{"ast":null,"code":"var _jsxFileName = \"/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/src/components/Places/PlacesShow.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { SimpleForm, SelectInput, ArrayInput, Edit, SimpleFormIterator, TextInput, useRecordContext } from \"react-admin\";\nimport { useSelector } from \"react-redux\";\nimport { URI } from \"../../URLS\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PlacesShow = props => {\n  _s();\n\n  const [printerId, setPrinterId] = useState([]);\n  const [employeeId, setEmployee] = useState([]);\n  const record = useRecordContext();\n  const [tier, setTier] = useState([]);\n  const {\n    region\n  } = useSelector(state => state.region);\n  useEffect(() => {\n    const id = document.URL.substring(document.URL.indexOf(\"regid\") + 5, document.URL.lastIndexOf(\"regid-\"));\n    axios.get(`${URI}/getPrinters?employeeId=admin@pixomnia&regionId=${id}`).then(data => {\n      console.log(data);\n      const printer = data.data.map(item => {\n        return {\n          id: item.printerId,\n          name: item.printerId\n        };\n      });\n      setPrinterId(printer);\n    });\n  }, [setPrinterId]);\n  useEffect(() => {\n    const link = document.URL.split(\"-id\")[0];\n    const id = link.substr(link.length - 2);\n    axios.get(`${URI}/getEmployees?employeeId=admin@pixomnia&regionId=${id}`).then(data => {\n      console.log(data);\n      const employee = data.data.map(item => {\n        return {\n          id: item.email,\n          name: item.email\n        };\n      });\n      setEmployee(employee);\n    });\n  }, [setEmployee]);\n  useEffect(() => {\n    axios.get(`${URI}/getTierInfo?employeeId=admin@pixomnia.com`).then(data => {\n      console.log(typeof data.data);\n      const list = Object.entries(data.data).map(e => ({\n        [e[0]]: e[1]\n      }));\n      console.log(list);\n      const tier = list.map(item => {\n        var key = Object.keys(item);\n        return {\n          id: key[0],\n          name: key[0]\n        };\n      });\n      console.log(tier);\n      setTier(tier);\n    });\n  }, [setTier]);\n  return /*#__PURE__*/_jsxDEV(Edit, {\n    title: \"Create a place\" //   resource=\"linkEmployeeAndPlace\"\n    ,\n    ...props,\n    children: /*#__PURE__*/_jsxDEV(SimpleForm, {\n      children: [/*#__PURE__*/_jsxDEV(ArrayInput, {\n        source: \"newList\",\n        label: \"Linled printer\",\n        children: /*#__PURE__*/_jsxDEV(SimpleFormIterator, {\n          children: /*#__PURE__*/_jsxDEV(SelectInput, {\n            source: \"item\",\n            choices: printerId,\n            label: \"PrinterId\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ArrayInput, {\n        source: \"employee\",\n        label: \"Linked employee\",\n        children: /*#__PURE__*/_jsxDEV(SimpleFormIterator, {\n          children: /*#__PURE__*/_jsxDEV(SelectInput, {\n            source: \"item\",\n            choices: employeeId,\n            label: \"EmployeeId\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PlacesShow, \"O+PE/VCyfEgmEIcpQT4SEAk+NNE=\", false, function () {\n  return [useRecordContext, useSelector];\n});\n\n_c = PlacesShow;\nexport default PlacesShow;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlacesShow\");","map":{"version":3,"names":["axios","React","useEffect","useState","SimpleForm","SelectInput","ArrayInput","Edit","SimpleFormIterator","TextInput","useRecordContext","useSelector","URI","PlacesShow","props","printerId","setPrinterId","employeeId","setEmployee","record","tier","setTier","region","state","id","document","URL","substring","indexOf","lastIndexOf","get","then","data","console","log","printer","map","item","name","link","split","substr","length","employee","email","list","Object","entries","e","key","keys"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/src/components/Places/PlacesShow.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  SimpleForm,\n  SelectInput,\n  ArrayInput,\n  Edit,\n  SimpleFormIterator,\n  TextInput,\n  useRecordContext,\n} from \"react-admin\";\nimport { useSelector } from \"react-redux\";\nimport { URI } from \"../../URLS\";\n\nconst PlacesShow = (props) => {\n  const [printerId, setPrinterId] = useState([]);\n  const [employeeId, setEmployee] = useState([]);\n  const record = useRecordContext();\n  const [tier, setTier] = useState([]);\n  const { region } = useSelector((state) => state.region);\n\n  useEffect(() => {\n    const id = document.URL.substring(\n      document.URL.indexOf(\"regid\") + 5,\n      document.URL.lastIndexOf(\"regid-\")\n    );\n\n    axios\n      .get(`${URI}/getPrinters?employeeId=admin@pixomnia&regionId=${id}`)\n      .then((data) => {\n        console.log(data);\n        const printer = data.data.map((item) => {\n          return { id: item.printerId, name: item.printerId };\n        });\n        setPrinterId(printer);\n      });\n  }, [setPrinterId]);\n  useEffect(() => {\n    const link = document.URL.split(\"-id\")[0];\n    const id = link.substr(link.length - 2);\n    axios\n      .get(`${URI}/getEmployees?employeeId=admin@pixomnia&regionId=${id}`)\n      .then((data) => {\n        console.log(data);\n        const employee = data.data.map((item) => {\n          return { id: item.email, name: item.email };\n        });\n        setEmployee(employee);\n      });\n  }, [setEmployee]);\n\n  useEffect(() => {\n    axios\n      .get(`${URI}/getTierInfo?employeeId=admin@pixomnia.com`)\n      .then((data) => {\n        console.log(typeof data.data);\n        const list = Object.entries(data.data).map((e) => ({ [e[0]]: e[1] }));\n        console.log(list);\n        const tier = list.map((item) => {\n          var key = Object.keys(item);\n          return { id: key[0], name: key[0] };\n        });\n\n        console.log(tier);\n\n        setTier(tier);\n      });\n  }, [setTier]);\n\n  return (\n    <Edit\n      title=\"Create a place\"\n      //   resource=\"linkEmployeeAndPlace\"\n      {...props}\n\n      //   resource=\"addEmployee\"\n      //   redirect=\"/getEmployees\"\n    >\n      <SimpleForm>\n        <ArrayInput source=\"newList\" label=\"Linled printer\">\n          <SimpleFormIterator>\n            <SelectInput source=\"item\" choices={printerId} label=\"PrinterId\" />\n          </SimpleFormIterator>\n        </ArrayInput>\n        <ArrayInput source=\"employee\" label=\"Linked employee\">\n          <SimpleFormIterator>\n            <SelectInput\n              source=\"item\"\n              choices={employeeId}\n              label=\"EmployeeId\"\n            />\n          </SimpleFormIterator>\n        </ArrayInput>\n      </SimpleForm>\n    </Edit>\n  );\n};\n\nexport default PlacesShow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}