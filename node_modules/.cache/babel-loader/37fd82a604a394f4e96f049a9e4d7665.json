{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport { useCallback, useMemo, useEffect, useState, useRef } from 'react';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useStore } from '../../store';\nimport queryReducer, { SET_FILTER, HIDE_FILTER, SHOW_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC } from './queryReducer';\nimport removeEmpty from '../../util/removeEmpty';\nimport { useIsMounted } from '../../util/hooks';\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\n\nexport var useListParams = function (_a) {\n  var resource = _a.resource,\n      filterDefaultValues = _a.filterDefaultValues,\n      _b = _a.sort,\n      sort = _b === void 0 ? defaultSort : _b,\n      _c = _a.perPage,\n      perPage = _c === void 0 ? 10 : _c,\n      _d = _a.debounce,\n      debounce = _d === void 0 ? 500 : _d,\n      _e = _a.disableSyncWithLocation,\n      disableSyncWithLocation = _e === void 0 ? false : _e;\n  var location = useLocation();\n  var navigate = useNavigate();\n\n  var _f = useState(defaultParams),\n      localParams = _f[0],\n      setLocalParams = _f[1];\n\n  var storeKey = \"\".concat(resource, \".listParams\");\n\n  var _g = useStore(storeKey, defaultParams),\n      params = _g[0],\n      setParams = _g[1];\n\n  var tempParams = useRef();\n  var isMounted = useIsMounted();\n  var requestSignature = [location.search, resource, JSON.stringify(disableSyncWithLocation ? localParams : params), JSON.stringify(filterDefaultValues), JSON.stringify(sort), perPage, disableSyncWithLocation];\n  var queryFromLocation = disableSyncWithLocation ? {} : parseQueryFromLocation(location);\n  var query = useMemo(function () {\n    return getQuery({\n      queryFromLocation: queryFromLocation,\n      params: disableSyncWithLocation ? localParams : params,\n      filterDefaultValues: filterDefaultValues,\n      sort: sort,\n      perPage: perPage\n    });\n  }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n  ); // if the location includes params (for example from a link like\n  // the categories products on the demo), we need to persist them in the\n  // store as well so that we don't lose them after a redirection back\n  // to the list\n\n  useEffect(function () {\n    if (Object.keys(queryFromLocation).length > 0) {\n      setParams(query);\n    }\n  }, [location.search]); // eslint-disable-line\n\n  var changeParams = useCallback(function (action) {\n    // do not change params if the component is already unmounted\n    // this is necessary because changeParams can be debounced, and therefore\n    // executed after the component is unmounted\n    if (!isMounted.current) return;\n\n    if (!tempParams.current) {\n      // no other changeParams action dispatched this tick\n      tempParams.current = queryReducer(query, action); // schedule side effects for next tick\n\n      setTimeout(function () {\n        if (disableSyncWithLocation) {\n          setLocalParams(tempParams.current);\n        } else {\n          // the useEffect above will apply the changes to the params in the store\n          navigate({\n            search: \"?\".concat(stringify(__assign(__assign({}, tempParams.current), {\n              filter: JSON.stringify(tempParams.current.filter),\n              displayedFilters: JSON.stringify(tempParams.current.displayedFilters)\n            })))\n          }, {\n            state: {\n              _scrollToTop: action.type === SET_PAGE\n            }\n          });\n        }\n\n        tempParams.current = undefined;\n      }, 0);\n    } else {\n      // side effects already scheduled, just change the params\n      tempParams.current = queryReducer(tempParams.current, action);\n    }\n  }, __spreadArray(__spreadArray([], requestSignature, true), [navigate], false));\n  var setSort = useCallback(function (sort) {\n    return changeParams({\n      type: SET_SORT,\n      payload: sort\n    });\n  }, [changeParams]);\n  var setPage = useCallback(function (newPage) {\n    return changeParams({\n      type: SET_PAGE,\n      payload: newPage\n    });\n  }, [changeParams]);\n  var setPerPage = useCallback(function (newPerPage) {\n    return changeParams({\n      type: SET_PER_PAGE,\n      payload: newPerPage\n    });\n  }, [changeParams]);\n  var filterValues = query.filter || emptyObject;\n  var displayedFilterValues = query.displayedFilters || emptyObject;\n  var debouncedSetFilters = lodashDebounce(function (filter, displayedFilters) {\n    changeParams({\n      type: SET_FILTER,\n      payload: {\n        filter: removeEmpty(filter),\n        displayedFilters: displayedFilters\n      }\n    });\n  }, debounce);\n  var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n    if (debounce === void 0) {\n      debounce = true;\n    }\n\n    return debounce ? debouncedSetFilters(filter, displayedFilters) : changeParams({\n      type: SET_FILTER,\n      payload: {\n        filter: removeEmpty(filter),\n        displayedFilters: displayedFilters\n      }\n    });\n  }, [changeParams] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var hideFilter = useCallback(function (filterName) {\n    changeParams({\n      type: HIDE_FILTER,\n      payload: filterName\n    });\n  }, [changeParams]);\n  var showFilter = useCallback(function (filterName, defaultValue) {\n    changeParams({\n      type: SHOW_FILTER,\n      payload: {\n        filterName: filterName,\n        defaultValue: defaultValue\n      }\n    });\n  }, [changeParams]);\n  return [__assign({\n    displayedFilters: displayedFilterValues,\n    filterValues: filterValues,\n    requestSignature: requestSignature\n  }, query), {\n    changeParams: changeParams,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSort,\n    setFilters: setFilters,\n    hideFilter: hideFilter,\n    showFilter: showFilter\n  }];\n};\nexport var validQueryParams = ['page', 'perPage', 'sort', 'order', 'filter', 'displayedFilters'];\n\nvar parseObject = function (query, field) {\n  if (query[field] && typeof query[field] === 'string') {\n    try {\n      query[field] = JSON.parse(query[field]);\n    } catch (err) {\n      delete query[field];\n    }\n  }\n};\n\nexport var parseQueryFromLocation = function (_a) {\n  var search = _a.search;\n  var query = pickBy(parse(search), function (v, k) {\n    return validQueryParams.indexOf(k) !== -1;\n  });\n  parseObject(query, 'filter');\n  parseObject(query, 'displayedFilters');\n  return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\n\nexport var hasCustomParams = function (params) {\n  return params && params.filter && (Object.keys(params.filter).length > 0 || params.order != null || params.page !== 1 || params.perPage != null || params.sort != null);\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\n\nexport var getQuery = function (_a) {\n  var queryFromLocation = _a.queryFromLocation,\n      params = _a.params,\n      filterDefaultValues = _a.filterDefaultValues,\n      sort = _a.sort,\n      perPage = _a.perPage;\n  var query = Object.keys(queryFromLocation).length > 0 ? queryFromLocation : hasCustomParams(params) ? __assign({}, params) : {\n    filter: filterDefaultValues || {}\n  };\n\n  if (!query.sort) {\n    query.sort = sort.field;\n    query.order = sort.order;\n  }\n\n  if (query.perPage == null) {\n    query.perPage = perPage;\n  }\n\n  if (query.page == null) {\n    query.page = 1;\n  }\n\n  return __assign(__assign({}, query), {\n    page: getNumberOrDefault(query.page, 1),\n    perPage: getNumberOrDefault(query.perPage, 10)\n  });\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n  var parsedNumber = typeof possibleNumber === 'string' ? parseInt(possibleNumber, 10) : possibleNumber;\n  return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nvar emptyObject = {};\nvar defaultSort = {\n  field: 'id',\n  order: SORT_ASC\n};\nvar defaultParams = {};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","pack","l","ar","Array","slice","concat","useCallback","useMemo","useEffect","useState","useRef","parse","stringify","lodashDebounce","pickBy","useNavigate","useLocation","useStore","queryReducer","SET_FILTER","HIDE_FILTER","SHOW_FILTER","SET_PAGE","SET_PER_PAGE","SET_SORT","SORT_ASC","removeEmpty","useIsMounted","useListParams","_a","resource","filterDefaultValues","_b","sort","defaultSort","_c","perPage","_d","debounce","_e","disableSyncWithLocation","location","navigate","_f","defaultParams","localParams","setLocalParams","storeKey","_g","params","setParams","tempParams","isMounted","requestSignature","search","JSON","queryFromLocation","parseQueryFromLocation","query","getQuery","keys","changeParams","action","current","setTimeout","filter","displayedFilters","state","_scrollToTop","type","undefined","setSort","payload","setPage","newPage","setPerPage","newPerPage","filterValues","emptyObject","displayedFilterValues","debouncedSetFilters","setFilters","hideFilter","filterName","showFilter","defaultValue","validQueryParams","parseObject","field","err","v","k","indexOf","hasCustomParams","order","page","getNumberOrDefault","possibleNumber","parsedNumber","parseInt","isNaN"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/node_modules/ra-core/dist/esm/controller/list/useListParams.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useMemo, useEffect, useState, useRef } from 'react';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useStore } from '../../store';\nimport queryReducer, { SET_FILTER, HIDE_FILTER, SHOW_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC, } from './queryReducer';\nimport removeEmpty from '../../util/removeEmpty';\nimport { useIsMounted } from '../../util/hooks';\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nexport var useListParams = function (_a) {\n    var resource = _a.resource, filterDefaultValues = _a.filterDefaultValues, _b = _a.sort, sort = _b === void 0 ? defaultSort : _b, _c = _a.perPage, perPage = _c === void 0 ? 10 : _c, _d = _a.debounce, debounce = _d === void 0 ? 500 : _d, _e = _a.disableSyncWithLocation, disableSyncWithLocation = _e === void 0 ? false : _e;\n    var location = useLocation();\n    var navigate = useNavigate();\n    var _f = useState(defaultParams), localParams = _f[0], setLocalParams = _f[1];\n    var storeKey = \"\".concat(resource, \".listParams\");\n    var _g = useStore(storeKey, defaultParams), params = _g[0], setParams = _g[1];\n    var tempParams = useRef();\n    var isMounted = useIsMounted();\n    var requestSignature = [\n        location.search,\n        resource,\n        JSON.stringify(disableSyncWithLocation ? localParams : params),\n        JSON.stringify(filterDefaultValues),\n        JSON.stringify(sort),\n        perPage,\n        disableSyncWithLocation,\n    ];\n    var queryFromLocation = disableSyncWithLocation\n        ? {}\n        : parseQueryFromLocation(location);\n    var query = useMemo(function () {\n        return getQuery({\n            queryFromLocation: queryFromLocation,\n            params: disableSyncWithLocation ? localParams : params,\n            filterDefaultValues: filterDefaultValues,\n            sort: sort,\n            perPage: perPage,\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    // if the location includes params (for example from a link like\n    // the categories products on the demo), we need to persist them in the\n    // store as well so that we don't lose them after a redirection back\n    // to the list\n    useEffect(function () {\n        if (Object.keys(queryFromLocation).length > 0) {\n            setParams(query);\n        }\n    }, [location.search]); // eslint-disable-line\n    var changeParams = useCallback(function (action) {\n        // do not change params if the component is already unmounted\n        // this is necessary because changeParams can be debounced, and therefore\n        // executed after the component is unmounted\n        if (!isMounted.current)\n            return;\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(function () {\n                if (disableSyncWithLocation) {\n                    setLocalParams(tempParams.current);\n                }\n                else {\n                    // the useEffect above will apply the changes to the params in the store\n                    navigate({\n                        search: \"?\".concat(stringify(__assign(__assign({}, tempParams.current), { filter: JSON.stringify(tempParams.current.filter), displayedFilters: JSON.stringify(tempParams.current.displayedFilters) }))),\n                    }, {\n                        state: {\n                            _scrollToTop: action.type === SET_PAGE,\n                        },\n                    });\n                }\n                tempParams.current = undefined;\n            }, 0);\n        }\n        else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, __spreadArray(__spreadArray([], requestSignature, true), [navigate], false));\n    var setSort = useCallback(function (sort) {\n        return changeParams({\n            type: SET_SORT,\n            payload: sort,\n        });\n    }, [changeParams]);\n    var setPage = useCallback(function (newPage) { return changeParams({ type: SET_PAGE, payload: newPage }); }, [changeParams]);\n    var setPerPage = useCallback(function (newPerPage) {\n        return changeParams({ type: SET_PER_PAGE, payload: newPerPage });\n    }, [changeParams]);\n    var filterValues = query.filter || emptyObject;\n    var displayedFilterValues = query.displayedFilters || emptyObject;\n    var debouncedSetFilters = lodashDebounce(function (filter, displayedFilters) {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters: displayedFilters,\n            },\n        });\n    }, debounce);\n    var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n        if (debounce === void 0) { debounce = true; }\n        return debounce\n            ? debouncedSetFilters(filter, displayedFilters)\n            : changeParams({\n                type: SET_FILTER,\n                payload: {\n                    filter: removeEmpty(filter),\n                    displayedFilters: displayedFilters,\n                },\n            });\n    }, [changeParams] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var hideFilter = useCallback(function (filterName) {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, [changeParams]);\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName: filterName,\n                defaultValue: defaultValue,\n            },\n        });\n    }, [changeParams]);\n    return [\n        __assign({ displayedFilters: displayedFilterValues, filterValues: filterValues, requestSignature: requestSignature }, query),\n        {\n            changeParams: changeParams,\n            setPage: setPage,\n            setPerPage: setPerPage,\n            setSort: setSort,\n            setFilters: setFilters,\n            hideFilter: hideFilter,\n            showFilter: showFilter,\n        },\n    ];\n};\nexport var validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\nvar parseObject = function (query, field) {\n    if (query[field] && typeof query[field] === 'string') {\n        try {\n            query[field] = JSON.parse(query[field]);\n        }\n        catch (err) {\n            delete query[field];\n        }\n    }\n};\nexport var parseQueryFromLocation = function (_a) {\n    var search = _a.search;\n    var query = pickBy(parse(search), function (v, k) { return validQueryParams.indexOf(k) !== -1; });\n    parseObject(query, 'filter');\n    parseObject(query, 'displayedFilters');\n    return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n    return (params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null));\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n    var queryFromLocation = _a.queryFromLocation, params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, perPage = _a.perPage;\n    var query = Object.keys(queryFromLocation).length > 0\n        ? queryFromLocation\n        : hasCustomParams(params)\n            ? __assign({}, params) : { filter: filterDefaultValues || {} };\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n    return __assign(__assign({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n    var parsedNumber = typeof possibleNumber === 'string'\n        ? parseInt(possibleNumber, 10)\n        : possibleNumber;\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nvar emptyObject = {};\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultParams = {};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}