{"ast":null,"code":"import get from 'lodash/get';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../notification';\n/**\n * Fetch a reference record in a one-to-one relationship, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { data, isLoading, error } = useReferenceOneFieldController({\n *     record: { id: 7, name: 'James Joyce'}\n *     reference: 'bios',\n *     target: 'author_id',\n * });\n *\n * @typedef {Object} UseReferenceOneFieldControllerParams\n * @prop {Object} props.record The current resource record\n * @prop {string} props.reference The linked resource name\n * @prop {string} props.target The target resource key\n * @prop {string} props.source The key current record identifier ('id' by default)\n *\n * @returns {UseReferenceResult} The request state. Destructure as { referenceRecord, isLoading, error }.\n */\n\nexport var useReferenceOneFieldController = function (props) {\n  var reference = props.reference,\n      record = props.record,\n      target = props.target,\n      _a = props.source,\n      source = _a === void 0 ? 'id' : _a;\n  var notify = useNotify();\n\n  var _b = useGetManyReference(reference, {\n    target: target,\n    id: get(record, source),\n    pagination: {\n      page: 1,\n      perPage: 1\n    },\n    sort: {\n      field: 'id',\n      order: 'ASC'\n    },\n    filter: {}\n  }, {\n    enabled: !!record,\n    onError: function (error) {\n      return notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', {\n        type: 'warning',\n        messageArgs: {\n          _: typeof error === 'string' ? error : error && error.message ? error.message : undefined\n        }\n      });\n    }\n  }),\n      data = _b.data,\n      error = _b.error,\n      isFetching = _b.isFetching,\n      isLoading = _b.isLoading,\n      refetch = _b.refetch;\n\n  return {\n    referenceRecord: data ? data[0] : undefined,\n    error: error,\n    isFetching: isFetching,\n    isLoading: isLoading,\n    refetch: refetch\n  };\n};","map":{"version":3,"names":["get","useGetManyReference","useNotify","useReferenceOneFieldController","props","reference","record","target","_a","source","notify","_b","id","pagination","page","perPage","sort","field","order","filter","enabled","onError","error","message","type","messageArgs","_","undefined","data","isFetching","isLoading","refetch","referenceRecord"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/node_modules/ra-core/dist/esm/controller/field/useReferenceOneFieldController.js"],"sourcesContent":["import get from 'lodash/get';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../notification';\n/**\n * Fetch a reference record in a one-to-one relationship, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { data, isLoading, error } = useReferenceOneFieldController({\n *     record: { id: 7, name: 'James Joyce'}\n *     reference: 'bios',\n *     target: 'author_id',\n * });\n *\n * @typedef {Object} UseReferenceOneFieldControllerParams\n * @prop {Object} props.record The current resource record\n * @prop {string} props.reference The linked resource name\n * @prop {string} props.target The target resource key\n * @prop {string} props.source The key current record identifier ('id' by default)\n *\n * @returns {UseReferenceResult} The request state. Destructure as { referenceRecord, isLoading, error }.\n */\nexport var useReferenceOneFieldController = function (props) {\n    var reference = props.reference, record = props.record, target = props.target, _a = props.source, source = _a === void 0 ? 'id' : _a;\n    var notify = useNotify();\n    var _b = useGetManyReference(reference, {\n        target: target,\n        id: get(record, source),\n        pagination: { page: 1, perPage: 1 },\n        sort: { field: 'id', order: 'ASC' },\n        filter: {},\n    }, {\n        enabled: !!record,\n        onError: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', {\n                type: 'warning',\n                messageArgs: {\n                    _: typeof error === 'string'\n                        ? error\n                        : error && error.message\n                            ? error.message\n                            : undefined,\n                },\n            });\n        },\n    }), data = _b.data, error = _b.error, isFetching = _b.isFetching, isLoading = _b.isLoading, refetch = _b.refetch;\n    return {\n        referenceRecord: data ? data[0] : undefined,\n        error: error,\n        isFetching: isFetching,\n        isLoading: isLoading,\n        refetch: refetch,\n    };\n};\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,YAAhB;AACA,SAASC,mBAAT,QAAoC,oBAApC;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,8BAA8B,GAAG,UAAUC,KAAV,EAAiB;EACzD,IAAIC,SAAS,GAAGD,KAAK,CAACC,SAAtB;EAAA,IAAiCC,MAAM,GAAGF,KAAK,CAACE,MAAhD;EAAA,IAAwDC,MAAM,GAAGH,KAAK,CAACG,MAAvE;EAAA,IAA+EC,EAAE,GAAGJ,KAAK,CAACK,MAA1F;EAAA,IAAkGA,MAAM,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EAAlI;EACA,IAAIE,MAAM,GAAGR,SAAS,EAAtB;;EACA,IAAIS,EAAE,GAAGV,mBAAmB,CAACI,SAAD,EAAY;IACpCE,MAAM,EAAEA,MAD4B;IAEpCK,EAAE,EAAEZ,GAAG,CAACM,MAAD,EAASG,MAAT,CAF6B;IAGpCI,UAAU,EAAE;MAAEC,IAAI,EAAE,CAAR;MAAWC,OAAO,EAAE;IAApB,CAHwB;IAIpCC,IAAI,EAAE;MAAEC,KAAK,EAAE,IAAT;MAAeC,KAAK,EAAE;IAAtB,CAJ8B;IAKpCC,MAAM,EAAE;EAL4B,CAAZ,EAMzB;IACCC,OAAO,EAAE,CAAC,CAACd,MADZ;IAECe,OAAO,EAAE,UAAUC,KAAV,EAAiB;MACtB,OAAOZ,MAAM,CAAC,OAAOY,KAAP,KAAiB,QAAjB,GACRA,KADQ,GAERA,KAAK,CAACC,OAAN,IAAiB,4BAFV,EAEwC;QACjDC,IAAI,EAAE,SAD2C;QAEjDC,WAAW,EAAE;UACTC,CAAC,EAAE,OAAOJ,KAAP,KAAiB,QAAjB,GACGA,KADH,GAEGA,KAAK,IAAIA,KAAK,CAACC,OAAf,GACID,KAAK,CAACC,OADV,GAEII;QALD;MAFoC,CAFxC,CAAb;IAYH;EAfF,CANyB,CAA5B;EAAA,IAsBIC,IAAI,GAAGjB,EAAE,CAACiB,IAtBd;EAAA,IAsBoBN,KAAK,GAAGX,EAAE,CAACW,KAtB/B;EAAA,IAsBsCO,UAAU,GAAGlB,EAAE,CAACkB,UAtBtD;EAAA,IAsBkEC,SAAS,GAAGnB,EAAE,CAACmB,SAtBjF;EAAA,IAsB4FC,OAAO,GAAGpB,EAAE,CAACoB,OAtBzG;;EAuBA,OAAO;IACHC,eAAe,EAAEJ,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAP,GAAaD,SAD/B;IAEHL,KAAK,EAAEA,KAFJ;IAGHO,UAAU,EAAEA,UAHT;IAIHC,SAAS,EAAEA,SAJR;IAKHC,OAAO,EAAEA;EALN,CAAP;AAOH,CAjCM"},"metadata":{},"sourceType":"module"}