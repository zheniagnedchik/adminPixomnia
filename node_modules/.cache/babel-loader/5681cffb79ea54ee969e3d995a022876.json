{"ast":null,"code":"import { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse } from './dataFetchActions';\n\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n  if (logger === void 0) {\n    logger = console.error;\n  }\n\n  if (!response) {\n    logger(\"The dataProvider returned an empty response for '\".concat(type, \"'.\"));\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (!response.hasOwnProperty('data')) {\n    logger(\"The response to '\".concat(type, \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\").concat(type, \"'.\"));\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithArrayOfRecordsResponse.includes(type) && !Array.isArray(response.data)) {\n    logger(\"The response to '\".concat(type, \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) && Array.isArray(response.data) && response.data.length > 0 && !response.data[0].hasOwnProperty('id')) {\n    logger(\"The response to '\".concat(type, \"' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithRecordResponse.includes(type) && !response.data.hasOwnProperty('id')) {\n    logger(\"The response to '\".concat(type, \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n    throw new Error('ra.notification.data_provider_error');\n  }\n\n  if (fetchActionsWithTotalResponse.includes(type) && !response.hasOwnProperty('total') && !response.hasOwnProperty('pageInfo')) {\n    logger(\"The response to '\".concat(type, \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n    throw new Error('ra.notification.data_provider_error');\n  }\n}\n\nexport default validateResponseFormat;","map":{"version":3,"names":["fetchActionsWithRecordResponse","fetchActionsWithArrayOfIdentifiedRecordsResponse","fetchActionsWithArrayOfRecordsResponse","fetchActionsWithTotalResponse","validateResponseFormat","response","type","logger","console","error","concat","Error","hasOwnProperty","includes","Array","isArray","data","length"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/node_modules/ra-core/dist/esm/dataProvider/validateResponseFormat.js"],"sourcesContent":["import { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, } from './dataFetchActions';\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n    if (logger === void 0) { logger = console.error; }\n    if (!response) {\n        logger(\"The dataProvider returned an empty response for '\".concat(type, \"'.\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (!response.hasOwnProperty('data')) {\n        logger(\"The response to '\".concat(type, \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\").concat(type, \"'.\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfRecordsResponse.includes(type) &&\n        !Array.isArray(response.data)) {\n        logger(\"The response to '\".concat(type, \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\n        Array.isArray(response.data) &&\n        response.data.length > 0 &&\n        !response.data[0].hasOwnProperty('id')) {\n        logger(\"The response to '\".concat(type, \"' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithRecordResponse.includes(type) &&\n        !response.data.hasOwnProperty('id')) {\n        logger(\"The response to '\".concat(type, \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithTotalResponse.includes(type) &&\n        !response.hasOwnProperty('total') &&\n        !response.hasOwnProperty('pageInfo')) {\n        logger(\"The response to '\".concat(type, \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n}\nexport default validateResponseFormat;\n"],"mappings":"AAAA,SAASA,8BAAT,EAAyCC,gDAAzC,EAA2FC,sCAA3F,EAAmIC,6BAAnI,QAAyK,oBAAzK;;AACA,SAASC,sBAAT,CAAgCC,QAAhC,EAA0CC,IAA1C,EAAgDC,MAAhD,CAAuD;AAAvD,EACE;EACE,IAAIA,MAAM,KAAK,KAAK,CAApB,EAAuB;IAAEA,MAAM,GAAGC,OAAO,CAACC,KAAjB;EAAyB;;EAClD,IAAI,CAACJ,QAAL,EAAe;IACXE,MAAM,CAAC,oDAAoDG,MAApD,CAA2DJ,IAA3D,EAAiE,IAAjE,CAAD,CAAN;IACA,MAAM,IAAIK,KAAJ,CAAU,qCAAV,CAAN;EACH;;EACD,IAAI,CAACN,QAAQ,CAACO,cAAT,CAAwB,MAAxB,CAAL,EAAsC;IAClCL,MAAM,CAAC,oBAAoBG,MAApB,CAA2BJ,IAA3B,EAAiC,8HAAjC,EAAiKI,MAAjK,CAAwKJ,IAAxK,EAA8K,IAA9K,CAAD,CAAN;IACA,MAAM,IAAIK,KAAJ,CAAU,qCAAV,CAAN;EACH;;EACD,IAAIT,sCAAsC,CAACW,QAAvC,CAAgDP,IAAhD,KACA,CAACQ,KAAK,CAACC,OAAN,CAAcV,QAAQ,CAACW,IAAvB,CADL,EACmC;IAC/BT,MAAM,CAAC,oBAAoBG,MAApB,CAA2BJ,IAA3B,EAAiC,kHAAjC,EAAqJI,MAArJ,CAA4JJ,IAA5J,EAAkK,GAAlK,CAAD,CAAN;IACA,MAAM,IAAIK,KAAJ,CAAU,qCAAV,CAAN;EACH;;EACD,IAAIV,gDAAgD,CAACY,QAAjD,CAA0DP,IAA1D,KACAQ,KAAK,CAACC,OAAN,CAAcV,QAAQ,CAACW,IAAvB,CADA,IAEAX,QAAQ,CAACW,IAAT,CAAcC,MAAd,GAAuB,CAFvB,IAGA,CAACZ,QAAQ,CAACW,IAAT,CAAc,CAAd,EAAiBJ,cAAjB,CAAgC,IAAhC,CAHL,EAG4C;IACxCL,MAAM,CAAC,oBAAoBG,MAApB,CAA2BJ,IAA3B,EAAiC,iJAAjC,EAAoLI,MAApL,CAA2LJ,IAA3L,EAAiM,GAAjM,CAAD,CAAN;IACA,MAAM,IAAIK,KAAJ,CAAU,qCAAV,CAAN;EACH;;EACD,IAAIX,8BAA8B,CAACa,QAA/B,CAAwCP,IAAxC,KACA,CAACD,QAAQ,CAACW,IAAT,CAAcJ,cAAd,CAA6B,IAA7B,CADL,EACyC;IACrCL,MAAM,CAAC,oBAAoBG,MAApB,CAA2BJ,IAA3B,EAAiC,sIAAjC,EAAyKI,MAAzK,CAAgLJ,IAAhL,EAAsL,GAAtL,CAAD,CAAN;IACA,MAAM,IAAIK,KAAJ,CAAU,qCAAV,CAAN;EACH;;EACD,IAAIR,6BAA6B,CAACU,QAA9B,CAAuCP,IAAvC,KACA,CAACD,QAAQ,CAACO,cAAT,CAAwB,OAAxB,CADD,IAEA,CAACP,QAAQ,CAACO,cAAT,CAAwB,UAAxB,CAFL,EAE0C;IACtCL,MAAM,CAAC,oBAAoBG,MAApB,CAA2BJ,IAA3B,EAAiC,8IAAjC,EAAiLI,MAAjL,CAAwLJ,IAAxL,EAA8L,GAA9L,CAAD,CAAN;IACA,MAAM,IAAIK,KAAJ,CAAU,qCAAV,CAAN;EACH;AACJ;;AACD,eAAeP,sBAAf"},"metadata":{},"sourceType":"module"}