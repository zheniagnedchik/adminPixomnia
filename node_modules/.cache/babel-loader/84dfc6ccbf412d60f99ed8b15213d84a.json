{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useQuery, useQueryClient } from 'react-query';\nimport { useDataProvider } from './useDataProvider';\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, refetch }\n * - success: { data: [data from store], total: [total from response], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getList parameters { pagination, sort, filter, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\n * @prop params.meta Optional meta parameters\n *\n * @returns The current request state. Destructure as { data, total, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, total, isLoading, error } = useGetList(\n *         'posts',\n *         { pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\n *     );\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(item =>\n *         <li key={item.id}>{item.title}</li>\n *     )}</ul>;\n * };\n */\n\nexport var useGetList = function (resource, params, options) {\n  var _a, _b, _c;\n\n  if (params === void 0) {\n    params = {};\n  }\n\n  var _d = params.pagination,\n      pagination = _d === void 0 ? {\n    page: 1,\n    perPage: 25\n  } : _d,\n      _e = params.sort,\n      sort = _e === void 0 ? {\n    field: 'id',\n    order: 'DESC'\n  } : _e,\n      _f = params.filter,\n      filter = _f === void 0 ? {} : _f,\n      meta = params.meta;\n  var dataProvider = useDataProvider();\n  var queryClient = useQueryClient();\n  var result = useQuery([resource, 'getList', {\n    pagination: pagination,\n    sort: sort,\n    filter: filter,\n    meta: meta\n  }], function () {\n    return dataProvider.getList(resource, {\n      pagination: pagination,\n      sort: sort,\n      filter: filter,\n      meta: meta\n    }).then(function (_a) {\n      var data = _a.data,\n          total = _a.total,\n          pageInfo = _a.pageInfo;\n      return {\n        data: data,\n        total: total,\n        pageInfo: pageInfo\n      };\n    });\n  }, __assign({\n    onSuccess: function (_a) {\n      var data = _a.data; // optimistically populate the getOne cache\n\n      data.forEach(function (record) {\n        queryClient.setQueryData([resource, 'getOne', {\n          id: String(record.id),\n          meta: meta\n        }], function (oldRecord) {\n          return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record;\n        });\n      });\n    }\n  }, options));\n  return result.data ? __assign(__assign({}, result), {\n    data: (_a = result.data) === null || _a === void 0 ? void 0 : _a.data,\n    total: (_b = result.data) === null || _b === void 0 ? void 0 : _b.total,\n    pageInfo: (_c = result.data) === null || _c === void 0 ? void 0 : _c.pageInfo\n  }) : result;\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","useQuery","useQueryClient","useDataProvider","useGetList","resource","params","options","_a","_b","_c","_d","pagination","page","perPage","_e","sort","field","order","_f","filter","meta","dataProvider","queryClient","result","getList","then","data","total","pageInfo","onSuccess","forEach","record","setQueryData","id","String","oldRecord"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/node_modules/ra-core/dist/esm/dataProvider/useGetList.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useQuery, useQueryClient, } from 'react-query';\nimport { useDataProvider } from './useDataProvider';\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, refetch }\n * - success: { data: [data from store], total: [total from response], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getList parameters { pagination, sort, filter, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\n * @prop params.meta Optional meta parameters\n *\n * @returns The current request state. Destructure as { data, total, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, total, isLoading, error } = useGetList(\n *         'posts',\n *         { pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\n *     );\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(item =>\n *         <li key={item.id}>{item.title}</li>\n *     )}</ul>;\n * };\n */\nexport var useGetList = function (resource, params, options) {\n    var _a, _b, _c;\n    if (params === void 0) { params = {}; }\n    var _d = params.pagination, pagination = _d === void 0 ? { page: 1, perPage: 25 } : _d, _e = params.sort, sort = _e === void 0 ? { field: 'id', order: 'DESC' } : _e, _f = params.filter, filter = _f === void 0 ? {} : _f, meta = params.meta;\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var result = useQuery([resource, 'getList', { pagination: pagination, sort: sort, filter: filter, meta: meta }], function () {\n        return dataProvider\n            .getList(resource, {\n            pagination: pagination,\n            sort: sort,\n            filter: filter,\n            meta: meta,\n        })\n            .then(function (_a) {\n            var data = _a.data, total = _a.total, pageInfo = _a.pageInfo;\n            return ({\n                data: data,\n                total: total,\n                pageInfo: pageInfo,\n            });\n        });\n    }, __assign({ onSuccess: function (_a) {\n            var data = _a.data;\n            // optimistically populate the getOne cache\n            data.forEach(function (record) {\n                queryClient.setQueryData([resource, 'getOne', { id: String(record.id), meta: meta }], function (oldRecord) { return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record; });\n            });\n        } }, options));\n    return (result.data\n        ? __assign(__assign({}, result), { data: (_a = result.data) === null || _a === void 0 ? void 0 : _a.data, total: (_b = result.data) === null || _b === void 0 ? void 0 : _b.total, pageInfo: (_c = result.data) === null || _c === void 0 ? void 0 : _c.pageInfo }) : result);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}