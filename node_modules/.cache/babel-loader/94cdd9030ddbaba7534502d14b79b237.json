{"ast":null,"code":"var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport { useMemo } from 'react';\nimport { useStore, useRemoveFromStore } from '../../store';\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\n\nexport var useRecordSelection = function (resource) {\n  var storeKey = \"\".concat(resource, \".selectedIds\");\n\n  var _a = useStore(storeKey, defaultSelection),\n      ids = _a[0],\n      setIds = _a[1];\n\n  var reset = useRemoveFromStore(storeKey);\n  var selectionModifiers = useMemo(function () {\n    return {\n      select: function (idsToAdd) {\n        if (!idsToAdd) return;\n        setIds(__spreadArray([], idsToAdd, true));\n      },\n      unselect: function (idsToRemove) {\n        if (!idsToRemove || idsToRemove.length === 0) return;\n        setIds(function (ids) {\n          if (!Array.isArray(ids)) return [];\n          return ids.filter(function (id) {\n            return !idsToRemove.includes(id);\n          });\n        });\n      },\n      toggle: function (id) {\n        if (typeof id === 'undefined') return;\n        setIds(function (ids) {\n          if (!Array.isArray(ids)) return __spreadArray([], ids, true);\n          var index = ids.indexOf(id);\n          return index > -1 ? __spreadArray(__spreadArray([], ids.slice(0, index), true), ids.slice(index + 1), true) : __spreadArray(__spreadArray([], ids, true), [id], false);\n        });\n      },\n      clearSelection: function () {\n        reset();\n      }\n    };\n  }, [setIds, reset]);\n  return [ids, selectionModifiers];\n};\nvar defaultSelection = [];","map":{"version":3,"names":["__spreadArray","to","from","pack","arguments","length","i","l","ar","Array","prototype","slice","call","concat","useMemo","useStore","useRemoveFromStore","useRecordSelection","resource","storeKey","_a","defaultSelection","ids","setIds","reset","selectionModifiers","select","idsToAdd","unselect","idsToRemove","isArray","filter","id","includes","toggle","index","indexOf","clearSelection"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/node_modules/ra-core/dist/esm/controller/list/useRecordSelection.js"],"sourcesContent":["var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useMemo } from 'react';\nimport { useStore, useRemoveFromStore } from '../../store';\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\nexport var useRecordSelection = function (resource) {\n    var storeKey = \"\".concat(resource, \".selectedIds\");\n    var _a = useStore(storeKey, defaultSelection), ids = _a[0], setIds = _a[1];\n    var reset = useRemoveFromStore(storeKey);\n    var selectionModifiers = useMemo(function () { return ({\n        select: function (idsToAdd) {\n            if (!idsToAdd)\n                return;\n            setIds(__spreadArray([], idsToAdd, true));\n        },\n        unselect: function (idsToRemove) {\n            if (!idsToRemove || idsToRemove.length === 0)\n                return;\n            setIds(function (ids) {\n                if (!Array.isArray(ids))\n                    return [];\n                return ids.filter(function (id) { return !idsToRemove.includes(id); });\n            });\n        },\n        toggle: function (id) {\n            if (typeof id === 'undefined')\n                return;\n            setIds(function (ids) {\n                if (!Array.isArray(ids))\n                    return __spreadArray([], ids, true);\n                var index = ids.indexOf(id);\n                return index > -1\n                    ? __spreadArray(__spreadArray([], ids.slice(0, index), true), ids.slice(index + 1), true) : __spreadArray(__spreadArray([], ids, true), [id], false);\n            });\n        },\n        clearSelection: function () {\n            reset();\n        },\n    }); }, [setIds, reset]);\n    return [ids, selectionModifiers];\n};\nvar defaultSelection = [];\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}