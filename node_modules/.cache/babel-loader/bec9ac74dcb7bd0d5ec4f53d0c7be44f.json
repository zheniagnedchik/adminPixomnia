{"ast":null,"code":"import { __spreadArrays } from \"tslib\";\nimport * as React from 'react';\nimport { hideOthers } from 'aria-hidden';\nimport { InteractivityDisabler } from './InteractivityDisabler';\nimport { focusHiddenMarker } from './medium';\nimport { useEffect, useRef, useState } from 'react';\n\nvar extractRef = function (ref) {\n  return 'current' in ref ? ref.current : ref;\n};\n\nexport function Effect(_a) {\n  var setLockProps = _a.setLockProps,\n      onEscapeKey = _a.onEscapeKey,\n      onClickOutside = _a.onClickOutside,\n      shards = _a.shards,\n      onActivation = _a.onActivation,\n      onDeactivation = _a.onDeactivation,\n      noIsolation = _a.noIsolation;\n\n  var _b = useState(undefined),\n      activeNode = _b[0],\n      setActiveNode = _b[1];\n\n  var lastEventTarget = useRef(null);\n  var mouseTouches = useRef(0);\n  React.useEffect(function () {\n    var onKeyDown = function (event) {\n      if (!event.defaultPrevented) {\n        if ((event.code === 'Escape' || event.key === 'Escape' || event.keyCode === 27) && onEscapeKey) {\n          onEscapeKey(event);\n        }\n      }\n    };\n\n    var onMouseDown = function (event) {\n      if (event.defaultPrevented || event.target === lastEventTarget.current || event instanceof MouseEvent && event.button !== 0) {\n        return;\n      }\n\n      if (shards && shards.map(extractRef).some(function (node) {\n        return node && node.contains(event.target) || node === event.target;\n      })) {\n        return;\n      }\n\n      if (onClickOutside) {\n        onClickOutside(event);\n      }\n    };\n\n    var onTouchStart = function (event) {\n      onMouseDown(event);\n      mouseTouches.current = event.touches.length;\n    };\n\n    var onTouchEnd = function (event) {\n      mouseTouches.current = event.touches.length;\n    };\n\n    if (activeNode) {\n      document.addEventListener('keydown', onKeyDown);\n      document.addEventListener('mousedown', onMouseDown);\n      document.addEventListener('touchstart', onTouchStart);\n      document.addEventListener('touchend', onTouchEnd);\n      return function () {\n        document.removeEventListener('keydown', onKeyDown);\n        document.removeEventListener('mousedown', onMouseDown);\n        document.removeEventListener('touchstart', onTouchStart);\n        document.removeEventListener('touchend', onTouchEnd);\n      };\n    }\n  }, [activeNode, onClickOutside, onEscapeKey]);\n  useEffect(function () {\n    if (activeNode) {\n      if (onActivation) {\n        onActivation(activeNode);\n      }\n\n      return function () {\n        if (onDeactivation) {\n          onDeactivation();\n        }\n      };\n    }\n  }, [!!activeNode]);\n  useEffect(function () {\n    var _undo = function () {\n      return null;\n    };\n\n    var unmounted = false;\n\n    var onNodeActivation = function (node) {\n      if (!noIsolation) {\n        _undo = hideOthers(__spreadArrays([node], (shards || []).map(extractRef)), document.body, focusHiddenMarker);\n      }\n\n      setActiveNode(function () {\n        return node;\n      });\n    };\n\n    var onNodeDeactivation = function () {\n      _undo();\n\n      if (!unmounted) {\n        setActiveNode(null);\n      }\n    };\n\n    setLockProps({\n      onMouseDown: function (e) {\n        lastEventTarget.current = e.target;\n      },\n      onTouchStart: function (e) {\n        lastEventTarget.current = e.target;\n      },\n      onActivation: onNodeActivation,\n      onDeactivation: onNodeDeactivation\n    });\n    return function () {\n      unmounted = true;\n      setLockProps(false);\n    };\n  }, []);\n  return React.createElement(InteractivityDisabler, null);\n}","map":{"version":3,"names":["__spreadArrays","React","hideOthers","InteractivityDisabler","focusHiddenMarker","useEffect","useRef","useState","extractRef","ref","current","Effect","_a","setLockProps","onEscapeKey","onClickOutside","shards","onActivation","onDeactivation","noIsolation","_b","undefined","activeNode","setActiveNode","lastEventTarget","mouseTouches","onKeyDown","event","defaultPrevented","code","key","keyCode","onMouseDown","target","MouseEvent","button","map","some","node","contains","onTouchStart","touches","length","onTouchEnd","document","addEventListener","removeEventListener","_undo","unmounted","onNodeActivation","body","onNodeDeactivation","e","createElement"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/node_modules/react-focus-on/dist/es2015/Effect.js"],"sourcesContent":["import { __spreadArrays } from \"tslib\";\nimport * as React from 'react';\nimport { hideOthers } from 'aria-hidden';\nimport { InteractivityDisabler } from './InteractivityDisabler';\nimport { focusHiddenMarker } from './medium';\nimport { useEffect, useRef, useState } from 'react';\nvar extractRef = function (ref) {\n    return 'current' in ref ? ref.current : ref;\n};\nexport function Effect(_a) {\n    var setLockProps = _a.setLockProps, onEscapeKey = _a.onEscapeKey, onClickOutside = _a.onClickOutside, shards = _a.shards, onActivation = _a.onActivation, onDeactivation = _a.onDeactivation, noIsolation = _a.noIsolation;\n    var _b = useState(undefined), activeNode = _b[0], setActiveNode = _b[1];\n    var lastEventTarget = useRef(null);\n    var mouseTouches = useRef(0);\n    React.useEffect(function () {\n        var onKeyDown = function (event) {\n            if (!event.defaultPrevented) {\n                if ((event.code === 'Escape' ||\n                    event.key === 'Escape' ||\n                    event.keyCode === 27) &&\n                    onEscapeKey) {\n                    onEscapeKey(event);\n                }\n            }\n        };\n        var onMouseDown = function (event) {\n            if (event.defaultPrevented ||\n                event.target === lastEventTarget.current ||\n                (event instanceof MouseEvent && event.button !== 0)) {\n                return;\n            }\n            if (shards &&\n                shards\n                    .map(extractRef)\n                    .some(function (node) {\n                    return (node && node.contains(event.target)) ||\n                        node === event.target;\n                })) {\n                return;\n            }\n            if (onClickOutside) {\n                onClickOutside(event);\n            }\n        };\n        var onTouchStart = function (event) {\n            onMouseDown(event);\n            mouseTouches.current = event.touches.length;\n        };\n        var onTouchEnd = function (event) {\n            mouseTouches.current = event.touches.length;\n        };\n        if (activeNode) {\n            document.addEventListener('keydown', onKeyDown);\n            document.addEventListener('mousedown', onMouseDown);\n            document.addEventListener('touchstart', onTouchStart);\n            document.addEventListener('touchend', onTouchEnd);\n            return function () {\n                document.removeEventListener('keydown', onKeyDown);\n                document.removeEventListener('mousedown', onMouseDown);\n                document.removeEventListener('touchstart', onTouchStart);\n                document.removeEventListener('touchend', onTouchEnd);\n            };\n        }\n    }, [activeNode, onClickOutside, onEscapeKey]);\n    useEffect(function () {\n        if (activeNode) {\n            if (onActivation) {\n                onActivation(activeNode);\n            }\n            return function () {\n                if (onDeactivation) {\n                    onDeactivation();\n                }\n            };\n        }\n    }, [!!activeNode]);\n    useEffect(function () {\n        var _undo = function () { return null; };\n        var unmounted = false;\n        var onNodeActivation = function (node) {\n            if (!noIsolation) {\n                _undo = hideOthers(__spreadArrays([node], (shards || []).map(extractRef)), document.body, focusHiddenMarker);\n            }\n            setActiveNode(function () { return node; });\n        };\n        var onNodeDeactivation = function () {\n            _undo();\n            if (!unmounted) {\n                setActiveNode(null);\n            }\n        };\n        setLockProps({\n            onMouseDown: function (e) {\n                lastEventTarget.current = e.target;\n            },\n            onTouchStart: function (e) {\n                lastEventTarget.current = e.target;\n            },\n            onActivation: onNodeActivation,\n            onDeactivation: onNodeDeactivation\n        });\n        return function () {\n            unmounted = true;\n            setLockProps(false);\n        };\n    }, []);\n    return React.createElement(InteractivityDisabler, null);\n}\n"],"mappings":"AAAA,SAASA,cAAT,QAA+B,OAA/B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,qBAAT,QAAsC,yBAAtC;AACA,SAASC,iBAAT,QAAkC,UAAlC;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;;AACA,IAAIC,UAAU,GAAG,UAAUC,GAAV,EAAe;EAC5B,OAAO,aAAaA,GAAb,GAAmBA,GAAG,CAACC,OAAvB,GAAiCD,GAAxC;AACH,CAFD;;AAGA,OAAO,SAASE,MAAT,CAAgBC,EAAhB,EAAoB;EACvB,IAAIC,YAAY,GAAGD,EAAE,CAACC,YAAtB;EAAA,IAAoCC,WAAW,GAAGF,EAAE,CAACE,WAArD;EAAA,IAAkEC,cAAc,GAAGH,EAAE,CAACG,cAAtF;EAAA,IAAsGC,MAAM,GAAGJ,EAAE,CAACI,MAAlH;EAAA,IAA0HC,YAAY,GAAGL,EAAE,CAACK,YAA5I;EAAA,IAA0JC,cAAc,GAAGN,EAAE,CAACM,cAA9K;EAAA,IAA8LC,WAAW,GAAGP,EAAE,CAACO,WAA/M;;EACA,IAAIC,EAAE,GAAGb,QAAQ,CAACc,SAAD,CAAjB;EAAA,IAA8BC,UAAU,GAAGF,EAAE,CAAC,CAAD,CAA7C;EAAA,IAAkDG,aAAa,GAAGH,EAAE,CAAC,CAAD,CAApE;;EACA,IAAII,eAAe,GAAGlB,MAAM,CAAC,IAAD,CAA5B;EACA,IAAImB,YAAY,GAAGnB,MAAM,CAAC,CAAD,CAAzB;EACAL,KAAK,CAACI,SAAN,CAAgB,YAAY;IACxB,IAAIqB,SAAS,GAAG,UAAUC,KAAV,EAAiB;MAC7B,IAAI,CAACA,KAAK,CAACC,gBAAX,EAA6B;QACzB,IAAI,CAACD,KAAK,CAACE,IAAN,KAAe,QAAf,IACDF,KAAK,CAACG,GAAN,KAAc,QADb,IAEDH,KAAK,CAACI,OAAN,KAAkB,EAFlB,KAGAjB,WAHJ,EAGiB;UACbA,WAAW,CAACa,KAAD,CAAX;QACH;MACJ;IACJ,CATD;;IAUA,IAAIK,WAAW,GAAG,UAAUL,KAAV,EAAiB;MAC/B,IAAIA,KAAK,CAACC,gBAAN,IACAD,KAAK,CAACM,MAAN,KAAiBT,eAAe,CAACd,OADjC,IAECiB,KAAK,YAAYO,UAAjB,IAA+BP,KAAK,CAACQ,MAAN,KAAiB,CAFrD,EAEyD;QACrD;MACH;;MACD,IAAInB,MAAM,IACNA,MAAM,CACDoB,GADL,CACS5B,UADT,EAEK6B,IAFL,CAEU,UAAUC,IAAV,EAAgB;QACtB,OAAQA,IAAI,IAAIA,IAAI,CAACC,QAAL,CAAcZ,KAAK,CAACM,MAApB,CAAT,IACHK,IAAI,KAAKX,KAAK,CAACM,MADnB;MAEH,CALD,CADJ,EAMQ;QACJ;MACH;;MACD,IAAIlB,cAAJ,EAAoB;QAChBA,cAAc,CAACY,KAAD,CAAd;MACH;IACJ,CAlBD;;IAmBA,IAAIa,YAAY,GAAG,UAAUb,KAAV,EAAiB;MAChCK,WAAW,CAACL,KAAD,CAAX;MACAF,YAAY,CAACf,OAAb,GAAuBiB,KAAK,CAACc,OAAN,CAAcC,MAArC;IACH,CAHD;;IAIA,IAAIC,UAAU,GAAG,UAAUhB,KAAV,EAAiB;MAC9BF,YAAY,CAACf,OAAb,GAAuBiB,KAAK,CAACc,OAAN,CAAcC,MAArC;IACH,CAFD;;IAGA,IAAIpB,UAAJ,EAAgB;MACZsB,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCnB,SAArC;MACAkB,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCb,WAAvC;MACAY,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwCL,YAAxC;MACAI,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,EAAsCF,UAAtC;MACA,OAAO,YAAY;QACfC,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCpB,SAAxC;QACAkB,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0Cd,WAA1C;QACAY,QAAQ,CAACE,mBAAT,CAA6B,YAA7B,EAA2CN,YAA3C;QACAI,QAAQ,CAACE,mBAAT,CAA6B,UAA7B,EAAyCH,UAAzC;MACH,CALD;IAMH;EACJ,CAjDD,EAiDG,CAACrB,UAAD,EAAaP,cAAb,EAA6BD,WAA7B,CAjDH;EAkDAT,SAAS,CAAC,YAAY;IAClB,IAAIiB,UAAJ,EAAgB;MACZ,IAAIL,YAAJ,EAAkB;QACdA,YAAY,CAACK,UAAD,CAAZ;MACH;;MACD,OAAO,YAAY;QACf,IAAIJ,cAAJ,EAAoB;UAChBA,cAAc;QACjB;MACJ,CAJD;IAKH;EACJ,CAXQ,EAWN,CAAC,CAAC,CAACI,UAAH,CAXM,CAAT;EAYAjB,SAAS,CAAC,YAAY;IAClB,IAAI0C,KAAK,GAAG,YAAY;MAAE,OAAO,IAAP;IAAc,CAAxC;;IACA,IAAIC,SAAS,GAAG,KAAhB;;IACA,IAAIC,gBAAgB,GAAG,UAAUX,IAAV,EAAgB;MACnC,IAAI,CAACnB,WAAL,EAAkB;QACd4B,KAAK,GAAG7C,UAAU,CAACF,cAAc,CAAC,CAACsC,IAAD,CAAD,EAAS,CAACtB,MAAM,IAAI,EAAX,EAAeoB,GAAf,CAAmB5B,UAAnB,CAAT,CAAf,EAAyDoC,QAAQ,CAACM,IAAlE,EAAwE9C,iBAAxE,CAAlB;MACH;;MACDmB,aAAa,CAAC,YAAY;QAAE,OAAOe,IAAP;MAAc,CAA7B,CAAb;IACH,CALD;;IAMA,IAAIa,kBAAkB,GAAG,YAAY;MACjCJ,KAAK;;MACL,IAAI,CAACC,SAAL,EAAgB;QACZzB,aAAa,CAAC,IAAD,CAAb;MACH;IACJ,CALD;;IAMAV,YAAY,CAAC;MACTmB,WAAW,EAAE,UAAUoB,CAAV,EAAa;QACtB5B,eAAe,CAACd,OAAhB,GAA0B0C,CAAC,CAACnB,MAA5B;MACH,CAHQ;MAITO,YAAY,EAAE,UAAUY,CAAV,EAAa;QACvB5B,eAAe,CAACd,OAAhB,GAA0B0C,CAAC,CAACnB,MAA5B;MACH,CANQ;MAOThB,YAAY,EAAEgC,gBAPL;MAQT/B,cAAc,EAAEiC;IARP,CAAD,CAAZ;IAUA,OAAO,YAAY;MACfH,SAAS,GAAG,IAAZ;MACAnC,YAAY,CAAC,KAAD,CAAZ;IACH,CAHD;EAIH,CA7BQ,EA6BN,EA7BM,CAAT;EA8BA,OAAOZ,KAAK,CAACoD,aAAN,CAAoBlD,qBAApB,EAA2C,IAA3C,CAAP;AACH"},"metadata":{},"sourceType":"module"}