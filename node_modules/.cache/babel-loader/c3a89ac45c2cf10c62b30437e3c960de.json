{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport set from 'lodash/set';\nimport removeEmpty from '../../util/removeEmpty';\nimport removeKey from '../../util/removeKey';\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\nexport var SHOW_FILTER = 'SHOW_FILTER';\nexport var HIDE_FILTER = 'HIDE_FILTER';\n\nvar oppositeOrder = function (direction) {\n  return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string.\n */\n\n\nexport var queryReducer = function (previousState, action) {\n  var _a;\n\n  switch (action.type) {\n    case SET_SORT:\n      if (action.payload.field === previousState.sort) {\n        return __assign(__assign({}, previousState), {\n          order: oppositeOrder(previousState.order),\n          page: 1\n        });\n      }\n\n      return __assign(__assign({}, previousState), {\n        sort: action.payload.field,\n        order: action.payload.order || SORT_ASC,\n        page: 1\n      });\n\n    case SET_PAGE:\n      return __assign(__assign({}, previousState), {\n        page: action.payload\n      });\n\n    case SET_PER_PAGE:\n      return __assign(__assign({}, previousState), {\n        page: 1,\n        perPage: action.payload\n      });\n\n    case SET_FILTER:\n      {\n        return __assign(__assign({}, previousState), {\n          page: 1,\n          filter: action.payload.filter,\n          displayedFilters: action.payload.displayedFilters ? action.payload.displayedFilters : previousState.displayedFilters\n        });\n      }\n\n    case SHOW_FILTER:\n      {\n        if (previousState.displayedFilters && previousState.displayedFilters[action.payload.filterName]) {\n          // the filter is already shown\n          return previousState;\n        }\n\n        return __assign(__assign({}, previousState), {\n          filter: typeof action.payload.defaultValue !== 'undefined' ? set(previousState.filter, action.payload.filterName, action.payload.defaultValue) : previousState.filter,\n          // we don't use lodash.set() for displayed filters\n          // to avoid problems with compound filter names (e.g. 'author.name')\n          displayedFilters: __assign(__assign({}, previousState.displayedFilters), (_a = {}, _a[action.payload.filterName] = true, _a))\n        });\n      }\n\n    case HIDE_FILTER:\n      {\n        return __assign(__assign({}, previousState), {\n          filter: removeEmpty(removeKey(previousState.filter, action.payload)),\n          // we don't use lodash.set() for displayed filters\n          // to avoid problems with compound filter names (e.g. 'author.name')\n          displayedFilters: previousState.displayedFilters ? Object.keys(previousState.displayedFilters).reduce(function (filters, filter) {\n            var _a;\n\n            return filter !== action.payload ? __assign(__assign({}, filters), (_a = {}, _a[filter] = true, _a)) : filters;\n          }, {}) : previousState.displayedFilters\n        });\n      }\n\n    default:\n      return previousState;\n  }\n};\nexport default queryReducer;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","set","removeEmpty","removeKey","SET_SORT","SORT_ASC","SORT_DESC","SET_PAGE","SET_PER_PAGE","SET_FILTER","SHOW_FILTER","HIDE_FILTER","oppositeOrder","direction","queryReducer","previousState","action","_a","type","payload","field","sort","order","page","perPage","filter","displayedFilters","filterName","defaultValue","keys","reduce","filters"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/node_modules/ra-core/dist/esm/controller/list/queryReducer.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport set from 'lodash/set';\nimport removeEmpty from '../../util/removeEmpty';\nimport removeKey from '../../util/removeKey';\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\nexport var SHOW_FILTER = 'SHOW_FILTER';\nexport var HIDE_FILTER = 'HIDE_FILTER';\nvar oppositeOrder = function (direction) {\n    return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string.\n */\nexport var queryReducer = function (previousState, action) {\n    var _a;\n    switch (action.type) {\n        case SET_SORT:\n            if (action.payload.field === previousState.sort) {\n                return __assign(__assign({}, previousState), { order: oppositeOrder(previousState.order), page: 1 });\n            }\n            return __assign(__assign({}, previousState), { sort: action.payload.field, order: action.payload.order || SORT_ASC, page: 1 });\n        case SET_PAGE:\n            return __assign(__assign({}, previousState), { page: action.payload });\n        case SET_PER_PAGE:\n            return __assign(__assign({}, previousState), { page: 1, perPage: action.payload });\n        case SET_FILTER: {\n            return __assign(__assign({}, previousState), { page: 1, filter: action.payload.filter, displayedFilters: action.payload.displayedFilters\n                    ? action.payload.displayedFilters\n                    : previousState.displayedFilters });\n        }\n        case SHOW_FILTER: {\n            if (previousState.displayedFilters &&\n                previousState.displayedFilters[action.payload.filterName]) {\n                // the filter is already shown\n                return previousState;\n            }\n            return __assign(__assign({}, previousState), { filter: typeof action.payload.defaultValue !== 'undefined'\n                    ? set(previousState.filter, action.payload.filterName, action.payload.defaultValue)\n                    : previousState.filter, \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: __assign(__assign({}, previousState.displayedFilters), (_a = {}, _a[action.payload.filterName] = true, _a)) });\n        }\n        case HIDE_FILTER: {\n            return __assign(__assign({}, previousState), { filter: removeEmpty(removeKey(previousState.filter, action.payload)), \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: previousState.displayedFilters\n                    ? Object.keys(previousState.displayedFilters).reduce(function (filters, filter) {\n                        var _a;\n                        return filter !== action.payload\n                            ? __assign(__assign({}, filters), (_a = {}, _a[filter] = true, _a)) : filters;\n                    }, {})\n                    : previousState.displayedFilters });\n        }\n        default:\n            return previousState;\n    }\n};\nexport default queryReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}