{"ast":null,"code":"import { getPermissionsFromRoles } from \"@react-admin/ra-rbac\";\nconst roles = {\n  accountant: [{\n    type: \"deny\",\n    action: \"read\",\n    resource: \"getRegions\"\n  }]\n};\nconst authProvider = {\n  checkAuth: () => {\n    const role = localStorage.getItem(\"role\");\n    return role ? Promise.resolve() : Promise.reject();\n  },\n  login: _ref => {\n    let {\n      role\n    } = _ref;\n    localStorage.setItem(\"role\", role);\n    return Promise.resolve();\n  },\n  logout: () => {\n    localStorage.removeItem(\"role\");\n    return Promise.resolve();\n  },\n  checkError: () => Promise.resolve(),\n  getIdentity: () => {\n    const role = localStorage.getItem(\"role\");\n    return Promise.resolve({\n      id: role,\n      fullName: {\n        accountant: \"Accountant\",\n        contentEditor: \"Content Editor\",\n        stockManager: \"Stock manager\",\n        administrator: \"Administrator\"\n      }[role]\n    });\n  },\n  getPermissions: () => {\n    const role = localStorage.getItem(\"role\");\n    console.log(role);\n    const test = getPermissionsFromRoles({\n      roleDefinitions: roles,\n      userRoles: [role]\n    });\n    console.log(test);\n    return Promise.resolve([{\n      type: \"deny\",\n      action: \"read\",\n      resource: \"getRegions\"\n    }]);\n  },\n  getRoles: () => Promise.resolve(roles)\n};\nexport default authProvider;","map":{"version":3,"names":["getPermissionsFromRoles","roles","accountant","type","action","resource","authProvider","checkAuth","role","localStorage","getItem","Promise","resolve","reject","login","setItem","logout","removeItem","checkError","getIdentity","id","fullName","contentEditor","stockManager","administrator","getPermissions","console","log","test","roleDefinitions","userRoles","getRoles"],"sources":["/Users/evgenijgnedcik/Documents/GitHub/adminPixomnia/src/Utils/authProvider.js"],"sourcesContent":["import { getPermissionsFromRoles } from \"@react-admin/ra-rbac\";\nconst roles = {\n  accountant: [{ type: \"deny\", action: \"read\", resource: \"getRegions\" }],\n};\n\nconst authProvider = {\n  checkAuth: () => {\n    const role = localStorage.getItem(\"role\");\n    return role ? Promise.resolve() : Promise.reject();\n  },\n  login: ({ role }) => {\n    localStorage.setItem(\"role\", role);\n    return Promise.resolve();\n  },\n  logout: () => {\n    localStorage.removeItem(\"role\");\n    return Promise.resolve();\n  },\n  checkError: () => Promise.resolve(),\n  getIdentity: () => {\n    const role = localStorage.getItem(\"role\");\n    return Promise.resolve({\n      id: role,\n      fullName: {\n        accountant: \"Accountant\",\n        contentEditor: \"Content Editor\",\n        stockManager: \"Stock manager\",\n        administrator: \"Administrator\",\n      }[role],\n    });\n  },\n  getPermissions: () => {\n    const role = localStorage.getItem(\"role\");\n    console.log(role);\n    const test = getPermissionsFromRoles({\n      roleDefinitions: roles,\n      userRoles: [role],\n    });\n    console.log(test);\n    return Promise.resolve([\n      { type: \"deny\", action: \"read\", resource: \"getRegions\" },\n    ]);\n  },\n  getRoles: () => Promise.resolve(roles),\n};\n\nexport default authProvider;\n"],"mappings":"AAAA,SAASA,uBAAT,QAAwC,sBAAxC;AACA,MAAMC,KAAK,GAAG;EACZC,UAAU,EAAE,CAAC;IAAEC,IAAI,EAAE,MAAR;IAAgBC,MAAM,EAAE,MAAxB;IAAgCC,QAAQ,EAAE;EAA1C,CAAD;AADA,CAAd;AAIA,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,MAAM;IACf,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;IACA,OAAOF,IAAI,GAAGG,OAAO,CAACC,OAAR,EAAH,GAAuBD,OAAO,CAACE,MAAR,EAAlC;EACD,CAJkB;EAKnBC,KAAK,EAAE,QAAc;IAAA,IAAb;MAAEN;IAAF,CAAa;IACnBC,YAAY,CAACM,OAAb,CAAqB,MAArB,EAA6BP,IAA7B;IACA,OAAOG,OAAO,CAACC,OAAR,EAAP;EACD,CARkB;EASnBI,MAAM,EAAE,MAAM;IACZP,YAAY,CAACQ,UAAb,CAAwB,MAAxB;IACA,OAAON,OAAO,CAACC,OAAR,EAAP;EACD,CAZkB;EAanBM,UAAU,EAAE,MAAMP,OAAO,CAACC,OAAR,EAbC;EAcnBO,WAAW,EAAE,MAAM;IACjB,MAAMX,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;IACA,OAAOC,OAAO,CAACC,OAAR,CAAgB;MACrBQ,EAAE,EAAEZ,IADiB;MAErBa,QAAQ,EAAE;QACRnB,UAAU,EAAE,YADJ;QAERoB,aAAa,EAAE,gBAFP;QAGRC,YAAY,EAAE,eAHN;QAIRC,aAAa,EAAE;MAJP,EAKRhB,IALQ;IAFW,CAAhB,CAAP;EASD,CAzBkB;EA0BnBiB,cAAc,EAAE,MAAM;IACpB,MAAMjB,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;IACAgB,OAAO,CAACC,GAAR,CAAYnB,IAAZ;IACA,MAAMoB,IAAI,GAAG5B,uBAAuB,CAAC;MACnC6B,eAAe,EAAE5B,KADkB;MAEnC6B,SAAS,EAAE,CAACtB,IAAD;IAFwB,CAAD,CAApC;IAIAkB,OAAO,CAACC,GAAR,CAAYC,IAAZ;IACA,OAAOjB,OAAO,CAACC,OAAR,CAAgB,CACrB;MAAET,IAAI,EAAE,MAAR;MAAgBC,MAAM,EAAE,MAAxB;MAAgCC,QAAQ,EAAE;IAA1C,CADqB,CAAhB,CAAP;EAGD,CArCkB;EAsCnB0B,QAAQ,EAAE,MAAMpB,OAAO,CAACC,OAAR,CAAgBX,KAAhB;AAtCG,CAArB;AAyCA,eAAeK,YAAf"},"metadata":{},"sourceType":"module"}